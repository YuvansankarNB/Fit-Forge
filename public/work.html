<!DOCTYPE html>
<html lang="en" ng-app="fitForgeApp">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>FitForge - Workouts</title>
  <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.8.2/angular.min.js"></script>
  <style>
    *{margin:0;padding:0;box-sizing:border-box;}
    body{font-family:Arial, sans-serif;background:#f5f5f5;color:#333;}
    .header{background:#2c3e50;color:#fff;padding:1rem 0;box-shadow:0 2px 5px rgba(0,0,0,0.1);}
    .nav-container{max-width:1200px;margin:auto;display:flex;justify-content:space-between;align-items:center;padding:0 20px;}
    .logo{color:#e74c3c;font-size:1.8rem;font-weight:bold;}
    .nav-menu{list-style:none;display:flex;gap:2rem;}
    .nav-menu a{color:#fff;text-decoration:none;padding:0.5rem 1rem;border-radius:5px;transition:0.3s;}
    .nav-menu a:hover,.nav-menu a.active{background:#e74c3c;}
    .container{max-width:1200px;margin:2rem auto;padding:0 20px;}
    .page-title{text-align:center;font-size:2rem;margin-bottom:2rem;color:#2c3e50;}
    .exercise-card{background:#fff;padding:1.5rem;border-radius:10px;margin:1rem 0;box-shadow:0 2px 8px rgba(0,0,0,0.1);}
    .exercise-card h3{margin-bottom:0.5rem;color:#2c3e50;}
    .exercise-card p{color:#666;margin-bottom:1rem;}
    .exercise-details{font-size:0.9rem;margin-bottom:1rem;color:#444;}
    .btn{background:#e74c3c;color:#fff;border:none;padding:10px;border-radius:5px;cursor:pointer;width:100%;transition:0.3s;}
    .btn:hover{background:#c0392b;}

    @media(max-width:768px){
      .nav-menu{flex-direction:column;gap:0.5rem;}
      .nav-container{flex-direction:column;gap:1rem;}
    }
  </style>
</head>
<body ng-controller="WorkoutCtrl">
  <header class="header">
    <div class="nav-container">
      <div class="logo">FitForge</div>
      <nav>
        <ul class="nav-menu">
          <li><a href="home.html">Dashboard</a></li>
          <li><a href="work.html" class="active">Workouts</a></li>
          <li><a href="pro.html">Progress</a></li>
          <li><a href="nutri.html">Nutrition</a></li>
          <li><a href="cls.html">Classes</a></li>
          <li><a href="money.html">Membership</a></li>
          <li><a href="prof.html">Profile</a></li>
        </ul>
      </nav>
    </div>
  </header>
  <main class="container">
    <h1 class="page-title">Exercise Library</h1>

    <div class="exercise-card" ng-repeat="ex in exercises">
      <h3>{{ex.name}}</h3>
      <p>{{ex.description}}</p>
      <div class="exercise-details">
        <strong>Category:</strong> {{ex.category}} <br>
        <strong>Sets:</strong> {{ex.sets}} | <strong>Reps:</strong> {{ex.reps}} <br>
        <strong>Difficulty:</strong> {{ex.difficulty}}
      </div>
      <button class="btn" ng-click="addToWorkout(ex)">Add to My Workout</button>
    </div>
  </main>

  <script>
    var app = angular.module("fitForgeApp", []);
    app.controller("WorkoutCtrl", function($scope){
      const userId = localStorage.getItem("userId");

      $scope.exercises = [
        {name:"Push-ups", description:"Classic bodyweight move for chest, shoulders, triceps", sets:"3", reps:"12-15", category:"Chest", difficulty:"Beginner"},
        {name:"Bench Press", description:"Strengthen chest and triceps using barbell or dumbbells", sets:"4", reps:"8-12", category:"Chest", difficulty:"Intermediate"},
        {name:"Pull-ups", description:"Build back and biceps with bodyweight", sets:"3", reps:"5-10", category:"Back", difficulty:"Intermediate"},
        {name:"Deadlifts", description:"Full-body compound lift for back, legs, and core", sets:"4", reps:"5-8", category:"Back", difficulty:"Advanced"},
        {name:"Squats", description:"The king of leg exercises", sets:"4", reps:"10-15", category:"Legs", difficulty:"Beginner"},
        {name:"Lunges", description:"Unilateral lower-body exercise", sets:"3", reps:"12 each leg", category:"Legs", difficulty:"Beginner"},
        {name:"Overhead Press", description:"Build shoulder strength and stability", sets:"3", reps:"8-12", category:"Shoulders", difficulty:"Intermediate"},
        {name:"Lateral Raises", description:"Isolation for shoulders (deltoids)", sets:"3", reps:"12-15", category:"Shoulders", difficulty:"Beginner"},
        {name:"Bicep Curls", description:"Classic arm exercise for biceps", sets:"3", reps:"10-15", category:"Arms", difficulty:"Beginner"},
        {name:"Tricep Dips", description:"Bodyweight tricep builder", sets:"3", reps:"8-12", category:"Arms", difficulty:"Intermediate"},
        {name:"Burpees", description:"High-intensity full-body cardio move", sets:"3", reps:"10-20", category:"Cardio", difficulty:"Intermediate"},
        {name:"Mountain Climbers", description:"Cardio and core workout", sets:"3", reps:"30 sec", category:"Cardio", difficulty:"Beginner"}
      ];

      $scope.addToWorkout = function(ex){
        if(!userId){
          alert("Please log in first.");
          return;
        }
        fetch("/api/workouts", {
          method:"POST",
          headers:{"Content-Type":"application/json"},
          body: JSON.stringify({ userId, ...ex })
        })
        .then(res=>res.json())
        .then(()=>alert(ex.name+" saved to your workouts!"))
        .catch(()=>alert("Error saving workout"));
      };
    });
  </script>
</body>
</html>
